<div id="accordion" role="tablist" aria-multiselectable="true">
    <div class="card">
      <div class="card-header" role="tab" id="headingOne">
        <h5 class="mb-0" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne" translate>
            taxonomy.taxongroup
            <ng-container *ngIf="selectedGroup"> > {{selectedGroup.name}}</ng-container>
          </a>
        </h5>
      </div>

      <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
          <div class="card-block">
              <ng-container>
                  <div class="card-group container">
                    <div *ngFor="let group of groups" (click)="onGroupSelect(group)" class="col-12 col-sm-6 col-md-4 col-lg-3">
                      <div class="card" id="selectGroup-card" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <img class="card-img-top img-responsive" id="selectGroup-img" src="assets/images/taxon-groups/{{group.id}}.svg" alt="loading..">
                        <div class="card-body" id="selectGroup-card-body">
                          <p class="card-text" id="selectGroup-card-text">{{group.name}}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
          </div>
        </div>
      </div>

<br>
<ng-container *ngIf="selectedGroup">

  <ul class="nav nav-tabs container">
    <li class="nav-item">
      <a class="nav-link active" data-toggle="tab" (click)="changeView=false" translate>navigation.list</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" (click)="changeView=true" translate>navigation.grid</a>
    </li>
    <form class="form-inline">
      <input class="form-control mr-sm-2" [(ngModel)]="search" (ngModelChange)="onSearchChange($event)" [ngModelOptions]="{standalone: true}"
        type="text" class="form-control" placeholder="Filter">
    </form>
  </ul>
  <br>

  <div class="tab-pane container" id="taxontable">
    <div *ngIf="!changeView">
      <ngx-datatable *ngIf="page" class="material selection-cell"
        [rows]="selected" 
        [columnMode]="'flex'"
        [columns]="columns" 
        [headerHeight]="50"
        [rowHeight]="50"
        [reorderable]='false'
        [selectionType]="'row'"
        [externalPaging]="true"
        [selected]="selected"
        [count]="page?.total"
        [offset]="page?.currentPage - 1"
        [limit]="page?.pageSize"
        [footerHeight]="50"
        [sorts]="[{prop: 'stableString', dir: 'desc'}]"
        (select)="onSelect($event)"
        (page)="setPage($event)">
      </ngx-datatable>
    </div>
  </div>

  <div class="tab-pane container" id="cardcontainer">
    <div *ngIf="changeView">
      <div class="card-group" id="taxongrid">
        <div *ngFor="let species of selected" class="col-12 col-sm-6 col-md-4 col-lg-3">
          <div class="card small text-center" id="species-card">
            <img class="card-img-top img-responsive" [src]="species.thumbnail" id="species-img">
            <div class="card-body" id="species-card-body">
              <a class="card-text" id="species-card-text" [routerLink]="[species.id]">{{species.vernacularName ||Â species.scientificName}}</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>