<div id="accordion" role="tablist" aria-multiselectable="true">
    <div class="card">
      <div class="card-header" role="tab" id="headingOne">
        <h5 class="mb-0" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne" translate>
            taxonomy.taxongroup
            <ng-container *ngIf="selectedGroup"> > {{selectedGroup.name}}</ng-container>
          </a>
        </h5>
      </div>

      <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
          <div class="card-block">
              <ng-container>
                  <div class="card-group container">
                    <div *ngFor="let group of groups" (click)="onGroupSelect(group)" class="col-12 col-sm-6 col-md-4 col-lg-3">
                      <div class="card" id="selectGroup-card" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <img class="card-img-top img-responsive" id="selectGroup-img" src="assets/images/taxon-groups/{{group.id}}.svg" alt="loading..">
                        <div class="card-body" id="selectGroup-card-body">
                          <p class="card-text" id="selectGroup-card-text">{{group.name}}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
          </div>
        </div>
      </div>

<br>
<ng-container *ngIf="selectedGroup">

  <ul class="nav nav-tabs container" id="autoscroll">
    <li class="nav-item">
      <a class="nav-link active" data-toggle="tab" (click)="changeView=false" translate>navigation.list</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" (click)="changeView=true" translate>navigation.grid</a>
    </li>
    <form class="form-inline">
      <input class="form-control mr-sm-2" [(ngModel)]="search" (ngModelChange)="onSearchChange($event)" [ngModelOptions]="{standalone: true}"
        type="text" class="form-control" placeholder="Filter">
    </form>
  </ul>
  <br>

  <div class="tab-pane container" id="taxontable">
    <div *ngIf="!changeView">
      <div class="table-responsive table-hover">
        <table class="table table-sm" id="taxontable">
          <thead>
            <tr>
              <th scope="col" translate>taxonomy.folkname</th>
              <th scope="col" translate>taxonomy.scientificname</th>
              <th scope="col" translate>taxonomy.onEuList</th>
              <th scope="col" translate>taxonomy.finnishList</th>
              <th scope="col" translate>taxonomy.established</th>
              <th scope="col" translate>taxonomy.quarantinePlantPest</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let species of selected">
              <td>
                <a [routerLink]="[species.id]">{{species.vernacularName || species.scientificName}}</a>
              </td>
              <td>{{species.scientificName}}</td>
              <td translate>{{species?.administrativeStatuses?.includes('MX.euInvasiveSpeciesList') ? 'taxonomy.yes' : 'taxonomy.no'}}</td>
              <td translate>{{species?.administrativeStatuses?.includes('MX.nationallySignificantInvasiveSpecies') ? 'taxonomy.yes' : 'taxonomy.no'}}</td>
              <td translate>{{species?.stableInFinland == true ? 'taxonomy.yes' : 'taxonomy.no' }}</td>
              <td translate>{{species?.administrativeStatuses?.includes('MX.quarantinePlantPest') ? 'taxonomy.yes' : 'taxonomy.no'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="tab-pane container" id="cardcontainer">
    <div *ngIf="changeView">
      <div class="card-group" id="taxongrid">
        <div *ngFor="let species of selected" class="col-12 col-sm-6 col-md-4 col-lg-3">
          <div class="card small text-center" id="species-card">
            <img class="card-img-top img-responsive" [src]="species.thumbnail" id="species-img">
            <div class="card-body" id="species-card-body">
              <a class="card-text" id="species-card-text" [routerLink]="[species.id]">{{species.vernacularName || species.scientificName}}</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
